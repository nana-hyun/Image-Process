
## 8.1.2 Classification of registration methods

8차원적 classification 계획 by Mantiz

:image dimensionality, registration basis, nature of transformation, domain of transformation, degree of interaction, optimization procedure employed, modalities involved, subject, and object


Registration (point pairs/surface pairs)

선이나 평면(표면의 특수한 경우)을 포함한 다른 위치로 사용가능

Correspondence : registration을 용이하게 하기위해 , 해부학적으로 부착된 객체의 특징에서 파생

이러한 객체 : 입체 프레임과 점 모양의 마커 존재

이러한 attachment를 기반으로하는 registration 

* prospective & extrinsic
* retrospective & intrinsic : 해부학적 특성에만 의존

if, no known correspondences as input..

* intensities : two views intensity patterns matched
* "nature" "domain" transformation : mathematical form
* "subject" : patient involvement and comprises three subcategories (intra, inter, atlas)
* "object" : particular region registered

3 categories : point-based, surface-based, intensity-based

* rigid transformation & other : straightness
* curved transformation : inter- , with atlas, intra- of two views


# 8.2. Geometrical transformations

한 view의 공간 X에서 두번째 view의 공간 Y로의 점을 매핑하는 기하학적 변환

![image](https://user-images.githubusercontent.com/101063108/166165292-92c9fcfd-2db3-4a0e-9942-9803196221a9.png)

regist error : ![image](https://user-images.githubusercontent.com/101063108/166165303-c93e490c-ae6a-451f-8905-2eec5ee380d9.png)


가능한 모든 ![image](https://user-images.githubusercontent.com/101063108/166165316-d5ae28c7-c214-472e-9ba7-7bd42fce536f.png)의 집합은 rigid 와 nonrigid로 나눌 수 있다.

rigid body

* 일상에서 흔함
* 6개의 매개변수 : 3차원 rigid-
* 1차, 2차는 드물기 때문에 다루지 x

## 8.2.1. Rigid transformation

rigid transformation / rigid mapping - 모든 길이 보존되는 기하 변환

* rigid registration problems

* translation and rotation (t and R)
* ![image](https://user-images.githubusercontent.com/101063108/166165463-800eca0e-c740-4fc0-b1a6-876828922eee.png)

* proper rotation ( rigid object의 물리적 변환) : 3개의 회전각 파라미터
* improper rotation (rigid object의 물리적 변환 x) : rotate & replect ![image](https://user-images.githubusercontent.com/101063108/166165523-65c393b9-0cbb-424c-951c-0761105a07b2.png)

![image](https://user-images.githubusercontent.com/101063108/166165543-c5df4d85-21fa-4b7a-908d-f4aecc2dc227.png)

* general rotation : three rotation about only two axes

![image](https://user-images.githubusercontent.com/101063108/166165622-54f84cd7-1d9e-4861-aa89-bb8318fa63d5.png)

* axis and angle : axis rotation w_hat  and angle rotation theta

![image](https://user-images.githubusercontent.com/101063108/166165664-1a9b9969-10a4-44e5-8247-5b557cf508eb.png)

* quaternion (axis and angle related)

vector q : 4개원소로 구성 ![image](https://user-images.githubusercontent.com/101063108/166165717-c3fc48bf-13f6-4636-9e17-c5f451b1a624.png) & special rules for multiplication

![image](https://user-images.githubusercontent.com/101063108/166165745-30c863e7-3ce5-4ef0-89e6-63cd2d892479.png)


## 8.2.2. Nonrigid transformation

nonrigid anatomy, interpatient- or intrapatient (rigid body), nonrigid 왜곡 (image aquisition)

### 8.2.2.1. Scaling transformation

simple - rigid with scaling

![image](https://user-images.githubusercontent.com/101063108/166165904-722fb599-c2f7-4a69-ab4b-98c53212bcc7.png)

* 3개 축에 대한 scale factor : ![image](https://user-images.githubusercontent.com/101063108/166165929-33abeeb0-98b9-4636-8247-146ad7d2f622.png)
* S 대각 원소, 기울기의 수정 factor


RS not equal SR

교정 오류의 보완 : MR에서 gradient strength error

* Istropic scaling

![image](https://user-images.githubusercontent.com/101063108/166165976-9812905f-029f-4197-81f5-80b103f2548a.png)

s = scalar (선과 선 사이의 각도 보존)

![image](https://user-images.githubusercontent.com/101063108/166166019-eb64e9eb-c14f-49e3-b583-2ed73b1aa8d7.png)

regist가 unknown scale을 고려해야할 때, rigid transformation + scaling 결합이 효과적

### 8.2.2.2. Affine transformation

비등방성 scaling. general affine transformation의 특수 케이스

![image](https://user-images.githubusercontent.com/101063108/166166062-237a45d1-35ae-4bb4-926e-e093d5dc323a.png)

* ![image](https://user-images.githubusercontent.com/101063108/166166088-03729a36-6ae2-4453-8806-22b995ec4e94.png)에 대한 제약 x



